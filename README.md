## Нагрузочное тестирование

Для проверки работоспособности сервиса под заданной нагрузкой была написана вспомогательная [программа](load/vegeta.go) при помощи библиотеки Vegeta. Сервис тестировался с 5 RPS в течение 120 cекунд.  
Как видно из отчета ниже, реализованный сервис успешно справляется с нагрузкой и соблюдает необходимые SLI.

### Отчет Vegeta

```
Requests      [total, rate, throughput]  600, 5.01, 1.89
Duration      [total, attack, wait]      1m59.800580723s, 1m59.80019579s, 384.933µs
Latencies     [mean, 50, 95, 99, max]    2.031531ms, 1.445465ms, 5.310366ms, 6.522122ms, 9.169656ms
Bytes In      [total, mean]              101616, 169.36
Bytes Out     [total, mean]              90868, 151.45
Status Codes  [code:count]               200:148  201:78  400:193  404:150  409:31  
Error Set:
404 Not Found
400 Bad Request
409 Conflict
```

### График запросов (зеленый — коды 2XX, красный — коды 4XX)

![scale=0.5](docs/plot.png)

вопросы

1) про индексы, внешние ключи итд
2) про post с upsert
3) аутентификация
4) редис кэш
5) в getReview не описано что нужно 404 если нет userid
6) про поле createdAt (почему нет в примерах)
7) попутали old_reviewer и old_user